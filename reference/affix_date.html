<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Put the current date into a file name — affix_date • pointblank</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Put the current date into a file name — affix_date"><meta property="og:description" content="This function helps to affix the current date to a filename. This is useful
when writing agent and/or informant objects to disk as part of a
continuous process. The date can be in terms of UTC time or the local system
time. The date can be affixed either to the end of the filename (before the
file extension) or at the beginning with a customizable delimiter.
The x_write_disk(), yaml_write() functions allow for the writing of
pointblank objects to disk. Furthermore the log4r_step() function has
the append_to argument that accepts filenames, and, it's reasonable that a
series of log files could be differentiated by a date component in the naming
scheme. The modification of the filename string takes effect immediately but
not at the time of writing a file to disk. In most cases, especially when
using affix_date() with the aforementioned file-writing functions, the file
timestamps should approximate the time components affixed to the filenames."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pointblank</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">0.9.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Validation Workflows</li>
    <li>
      <a href="../articles/validation_workflows.html">Overview</a>
    </li>
    <li>
      <a href="../articles/VALID-I.html">VALID-I: Data Quality Reporting</a>
    </li>
    <li>
      <a href="../articles/VALID-II.html">VALID-II: Pipeline Data Validation</a>
    </li>
    <li>
      <a href="../articles/VALID-III.html">VALID-III: Expectations in Unit Tests</a>
    </li>
    <li>
      <a href="../articles/VALID-IV.html">VALID-IV: Data Tests for Conditionals</a>
    </li>
    <li>
      <a href="../articles/VALID-V.html">VALID-V: Table Scan</a>
    </li>
    <li>
      <a href="../articles/VALID-VI.html">VALID-VI: R Markdown Document Validation</a>
    </li>
    <li class="dropdown-header">Information Management</li>
    <li>
      <a href="../articles/INFO-1.html">Intro to Information Management</a>
    </li>
    <li>
      <a href="../articles/INFO-2.html">Advanced Information Management</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rich-iannone/pointblank/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Put the current date into a file name</h1>
    <small class="dont-index">Source: <a href="https://github.com/rich-iannone/pointblank/blob/HEAD/R/file_naming.R" class="external-link"><code>R/file_naming.R</code></a></small>
    <div class="hidden name"><code>affix_date.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function helps to affix the current date to a filename. This is useful
when writing <em>agent</em> and/or <em>informant</em> objects to disk as part of a
continuous process. The date can be in terms of UTC time or the local system
time. The date can be affixed either to the end of the filename (before the
file extension) or at the beginning with a customizable delimiter.</p>
<p>The <code><a href="x_write_disk.html">x_write_disk()</a></code>, <code><a href="yaml_write.html">yaml_write()</a></code> functions allow for the writing of
<strong>pointblank</strong> objects to disk. Furthermore the <code><a href="log4r_step.html">log4r_step()</a></code> function has
the <code>append_to</code> argument that accepts filenames, and, it's reasonable that a
series of log files could be differentiated by a date component in the naming
scheme. The modification of the filename string takes effect immediately but
not at the time of writing a file to disk. In most cases, especially when
using <code>affix_date()</code> with the aforementioned file-writing functions, the file
timestamps should approximate the time components affixed to the filenames.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class="sourceCode r"><code><span class="fu">affix_date</span><span class="op">(</span>
  <span class="va">filename</span>,
  position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"end"</span>, <span class="st">"start"</span><span class="op">)</span>,
  format <span class="op">=</span> <span class="st">"%Y-%m-%d"</span>,
  delimiter <span class="op">=</span> <span class="st">"_"</span>,
  utc_time <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>

    <div id="ref-sections">
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>filename</dt>
<dd><p>The filename to modify.</p></dd>
<dt>position</dt>
<dd><p>Where to place the formatted date. This could either be at
the <code>"end"</code> of the filename (the default) or at the <code>"start"</code>.</p></dd>
<dt>format</dt>
<dd><p>A <code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">base::strptime()</a></code> format string for formatting the date. By
default, this is <code>"%Y-%m-%d"</code> which expresses the date according to the ISO
8601 standard (as <code>YYYY-MM-DD</code>). Refer to the documentation on
<code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">base::strptime()</a></code> for conversion specifications if planning to use a
different format string.</p></dd>
<dt>delimiter</dt>
<dd><p>The delimiter characters to use for separating the date
string from the original file name.</p></dd>
<dt>utc_time</dt>
<dd><p>An option for whether to use the current UTC time to
establish the date (the default, with <code>TRUE</code>), or, use the system's local
time (<code>FALSE</code>).</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A character vector.</p>
    </div>
    <div id="function-id">
    <h2>Function ID</h2>
    

<p>13-3</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>The <code><a href="affix_datetime.html">affix_datetime()</a></code> function provides the same features except it
produces a date-time string by default.</p>
<p>Other Utility and Helper Functions: 
<code><a href="affix_datetime.html">affix_datetime</a>()</code>,
<code><a href="col_schema.html">col_schema</a>()</code>,
<code><a href="from_github.html">from_github</a>()</code>,
<code><a href="has_columns.html">has_columns</a>()</code>,
<code><a href="stop_if_not.html">stop_if_not</a>()</code></p></div>
    </div>
    </div>

    <div id="examples">
    <h2>Examples</h2>
    <div class="ref-examples sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Taking the generic `pb_file` name for</span></span>
<span class="r-in"><span class="co"># a file, we add the current date to it</span></span>
<span class="r-in"><span class="co"># as a suffix</span></span>
<span class="r-in"><span class="fu">affix_date</span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"pb_file"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "pb_file_2021-11-17"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># File extensions won't get in the way:</span></span>
<span class="r-in"><span class="fu">affix_date</span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"pb_file.rds"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "pb_file_2021-11-17.rds"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The date can be used as a prefix</span></span>
<span class="r-in"><span class="fu">affix_date</span><span class="op">(</span></span>
<span class="r-in">  filename <span class="op">=</span> <span class="st">"pb_file"</span>,</span>
<span class="r-in">  position <span class="op">=</span> <span class="st">"start"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2021-11-17_pb_file"</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The date pattern can be changed and so</span></span>
<span class="r-in"><span class="co"># can the delimiter</span></span>
<span class="r-in"><span class="fu">affix_date</span><span class="op">(</span></span>
<span class="r-in">  filename <span class="op">=</span> <span class="st">"pb_file.yml"</span>,</span>
<span class="r-in">  format <span class="op">=</span> <span class="st">"%Y%m%d"</span>,</span>
<span class="r-in">  delimiter <span class="op">=</span> <span class="st">"-"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "pb_file-20211117.yml"</span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># We can use a file-naming convention</span></span>
<span class="r-in"><span class="co"># involving dates when writing output</span></span>
<span class="r-in"><span class="co"># files immediately after interrogating;</span></span>
<span class="r-in"><span class="co"># useful when interrogating directly</span></span>
<span class="r-in"><span class="co"># from YAML in a scheduled process</span></span>
<span class="r-in"><span class="fu"><a href="yaml_agent_interrogate.html">yaml_agent_interrogate</a></span><span class="op">(</span></span>
<span class="r-in">  filename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span class="r-in">    <span class="st">"yaml"</span>, <span class="st">"agent-small_table.yml"</span>,</span>
<span class="r-in">    package <span class="op">=</span> <span class="st">"pointblank"</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> </span>
<span class="r-in">  <span class="fu"><a href="x_write_disk.html">x_write_disk</a></span><span class="op">(</span></span>
<span class="r-in">    filename <span class="op">=</span> <span class="fu">affix_date</span><span class="op">(</span></span>
<span class="r-in">      filename <span class="op">=</span> <span class="st">"small_table_agent.rds"</span>,</span>
<span class="r-in">      delimiter <span class="op">=</span> <span class="st">"-"</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    keep_tbl <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">    keep_extracts <span class="op">=</span> <span class="cn">TRUE</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Richard Iannone, Mauricio Vargas.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

