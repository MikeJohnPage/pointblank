<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="La función de validación col_exists(), la expectativa expect_col_exists()
función, y la función de prueba test_col_exists() comprueban si uno o
existen más columnas en la tabla de destino. El único requisito es la
especificación de los nombres de las columnas. La función de validación se
puede utilizar directamente en un dato. tabla o con un objeto * agent *
(técnicamente, un objeto ptblank_agent) mientras que las funciones de
expectativa y prueba solo se pueden usar con datos mesa. Los tipos de tablas
de datos que se pueden utilizar incluyen marcos de datos, tibbles, tablas de
base de datos (tbl_dbi) y Spark DataFrames (tbl_spark). Cada paso de
validación o expectativa operará en una sola unidad de prueba, que es si la
columna existe o no."><title>¿Existe realmente una o más columnas? — col_exists • pointblank</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="¿Existe realmente una o más columnas? — col_exists"><meta property="og:description" content="La función de validación col_exists(), la expectativa expect_col_exists()
función, y la función de prueba test_col_exists() comprueban si uno o
existen más columnas en la tabla de destino. El único requisito es la
especificación de los nombres de las columnas. La función de validación se
puede utilizar directamente en un dato. tabla o con un objeto * agent *
(técnicamente, un objeto ptblank_agent) mientras que las funciones de
expectativa y prueba solo se pueden usar con datos mesa. Los tipos de tablas
de datos que se pueden utilizar incluyen marcos de datos, tibbles, tablas de
base de datos (tbl_dbi) y Spark DataFrames (tbl_spark). Cada paso de
validación o expectativa operará en una sola unidad de prueba, que es si la
columna existe o no."><meta property="og:image" content="https://rich-iannone.github.io/pointblank/es/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Ir al contenido</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pointblank</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Cambiar la navegación">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Flujos de trabajo de validación</h6>
    <a class="dropdown-item" href="../articles/validation_workflows.html">Overview</a>
    <a class="dropdown-item" href="../articles/VALID-I.html">VALID-I: Informes sobre la calidad de los datos</a>
    <a class="dropdown-item" href="../articles/VALID-II.html">VALID-II: Validación de datos en los pipelines</a>
    <a class="dropdown-item" href="../articles/VALID-III.html">VALID-III: Expectativas en las pruebas unitarias</a>
    <a class="dropdown-item" href="../articles/VALID-IV.html">VALID-IV: Pruebas de datos para condicionales</a>
    <a class="dropdown-item" href="../articles/VALID-V.html">VALID-V: Table Scan</a>
    <a class="dropdown-item" href="../articles/VALID-VI.html">VALID-VI: Validación de documentos R Markdown</a>
    <h6 class="dropdown-header" data-toc-skip>Gestión de la información</h6>
    <a class="dropdown-item" href="../articles/INFO-1.html">Introducción a la gestión de la información</a>
    <a class="dropdown-item" href="../articles/INFO-2.html">Temas avanzados de gestión de la información</a>
    <a class="external-link dropdown-item" href="https://rich-iannone.github.io/pointblank">In English</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Cambiar la navegación" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Buscar" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rich-iannone/pointblank/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>¿Existe realmente una o más columnas?</h1>
      <small class="dont-index">Código: <a href="https://github.com/rich-iannone/pointblank/blob/HEAD/R/col_exists.R" class="external-link"><code>R/col_exists.R</code></a></small>
      <div class="d-none name"><code>col_exists.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>La función de validación <code>col_exists()</code>, la expectativa <code>expect_col_exists()</code>
función, y la función de prueba <code>test_col_exists()</code> comprueban si uno o
existen más columnas en la tabla de destino. El único requisito es la
especificación de los nombres de las columnas. La función de validación se
puede utilizar directamente en un dato. tabla o con un objeto * agent *
(técnicamente, un objeto <code>ptblank_agent</code>) mientras que las funciones de
expectativa y prueba solo se pueden usar con datos mesa. Los tipos de tablas
de datos que se pueden utilizar incluyen marcos de datos, tibbles, tablas de
base de datos (<code>tbl_dbi</code>) y Spark DataFrames (<code>tbl_spark</code>). Cada paso de
validación o expectativa operará en una sola unidad de prueba, que es si la
columna existe o no.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Uso<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">col_exists</span><span class="op">(</span>
  <span class="va">x</span>,
  <span class="va">columns</span>,
  actions <span class="op">=</span> <span class="cn">NULL</span>,
  step_id <span class="op">=</span> <span class="cn">NULL</span>,
  label <span class="op">=</span> <span class="cn">NULL</span>,
  brief <span class="op">=</span> <span class="cn">NULL</span>,
  active <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>

<span class="fu">expect_col_exists</span><span class="op">(</span><span class="va">object</span>, <span class="va">columns</span>, threshold <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

<span class="fu">test_col_exists</span><span class="op">(</span><span class="va">object</span>, <span class="va">columns</span>, threshold <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="argumentos">Argumentos<a class="anchor" aria-label="anchor" href="#argumentos"></a></h2>
    <dl><dt>x</dt>
<dd><p>Un data.frame, tibble (<code>tbl_df</code> o <code>tbl_dbi</code>), Spark DataFrame
(<code>tbl_spark</code>), o un <em>agent</em> objeto de clase <code>ptblank_agent</code> que se crea
con <code><a href="create_agent.html">create_agent()</a></code>.</p></dd>
<dt>columns</dt>
<dd><p>Una o más columnas de la tabla en foco. Esto se puede
proporcionar como un vector de nombres de columnas usando <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> o nombres
de columnas desnudos encerrados entre <code><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code>.</p></dd>
<dt>actions</dt>
<dd><p>Una lista que contiene los niveles de umbral para que el paso
de validación pueda reaccionar en consecuencia al superar los niveles
establecidos. Esto se creará con la función auxiliar <code><a href="action_levels.html">action_levels()</a></code>.</p></dd>
<dt>step_id</dt>
<dd><p>Uno o más identificadores opcionales para los pasos de
validación únicos o múltiples generados al llamar a una función de
validación. El uso de ID de pasos sirve para distinguir los pasos de
validación entre sí y brinda la oportunidad de proporcionar una etiqueta
más significativa en comparación con el índice de pasos. De forma
predeterminada, es <code>NULL</code>, y <strong>pointblank</strong> generará automáticamente el
valor de ID de paso (basado en el índice de paso) en este caso. Se pueden
proporcionar uno o más valores, y el número exacto de valores de ID debe
(1) coincidir con el número de pasos de validación que producirá la llamada
a la función de validación (influenciado por el número de <code>columns</code>
proporcionadas), (2) ser un ID cadena no utilizada en ningún paso de
validación anterior, y (3) ser un vector con valores únicos.</p></dd>
<dt>label</dt>
<dd><p>Una etiqueta opcional para el paso de validación. Esta etiqueta
aparece en el informe del <em>agent</em> y, para una mejor apariencia, debe ser
breve.</p></dd>
<dt>brief</dt>
<dd><p>Una descripción opcional basada en texto para el paso de
validación. Si no se proporciona nada aquí, el objeto <em>agent</em> genera un
<em>autobrief</em>, utilizando el lenguaje proporcionado en el argumento <code>lang</code> de
<code><a href="create_agent.html">create_agent()</a></code> (que por defecto es <code>"en"</code> o inglés). El <em>autobrief</em>
incorpora detalles del paso de validación, por lo que a menudo es la opción
preferida en la mayoría de los casos (donde un <code>label</code> podría ser más
adecuada para describir sucintamente la validación).</p></dd>
<dt>active</dt>
<dd><p>Un valor lógico que indica si el paso de validación debe estar
activo. Si la función de validación está trabajando con un objeto <em>agent</em>,
<code>FALSE</code> hará que el paso de validación esté inactivo (aún informando su
presencia y manteniendo los índices de los pasos sin cambios). Si la
función de validación operará directamente en los datos (sin participación
de <em>agent</em>), entonces cualquier paso con <code>active = FALSE</code> simplemente
pasará los datos sin validación alguna. Aparte de un vector lógico, una
fórmula R unilateral que usa un <code>~</code> inicial se puede usar con <code>.</code> (que
sirve como la tabla de datos de entrada) para evaluar a un solo valor
lógico. Con este enfoque, la función <strong>pointblank</strong> <code><a href="has_columns.html">has_columns()</a></code> se
puede utilizar para determinar si se debe activar un paso de validación
sobre la base de una o más columnas existentes en la tabla (por ejemplo,
<code>~ . %&gt;% has_columns(vars(d, e))</code>). El valor predeterminado de <code>active</code> es
<code>TRUE</code>.</p></dd>
<dt>object</dt>
<dd><p>Un data.frame, tibble (<code>tbl_df</code> o <code>tbl_dbi</code>) o Spark DataFrame
(<code>tbl_spark</code>) que sirve como tabla de destino para la función de
expectativa o la función de prueba.</p></dd>
<dt>threshold</dt>
<dd><p>Un valor de umbral de falla simple para usar con las
variantes de función expectativa (<code>expect_</code>) y prueba (<code>test_</code>). De
forma predeterminada, se establece en <code>1</code>, lo que significa que cualquier
unidad de falla en la validación de datos da como resultado una falla
general de la prueba. Los números enteros más allá de <code>1</code> indican que
cualquier unidad defectuosa hasta ese valor de umbral absoluto dará como
resultado una <strong>thatthat</strong> prueba o evalúe como <code>TRUE</code>. Asimismo,
los valores fraccionarios (entre <code>0</code> y <code>1</code>) actúan como un umbral de falla
proporcional, donde <code>0.15</code> significa que el <code>15</code> por ciento de las unidades
de prueba que fallan dan como resultado una falla general de la prueba.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="valor">Valor<a class="anchor" aria-label="anchor" href="#valor"></a></h2>
    <p>Para la función de validación, el valor de retorno es un objeto
<code>ptblank_agent</code> o un objeto de tabla (dependiendo de si se pasó un objeto
<em>agent</em> o una tabla a <code>x</code>). La función de expectativa devuelve
invisiblemente su entrada pero, en el contexto de los datos de prueba, la
función se llama principalmente por sus posibles efectos secundarios (por
ejemplo, falla de señalización). La función de prueba devuelve un valor
lógico.</p>
    </div>
    <div class="section level2">
    <h2 id="nombres-de-columnas">Nombres de columnas<a class="anchor" aria-label="anchor" href="#nombres-de-columnas"></a></h2>
    

<p>Si proporciona varios nombres de columna, el resultado será una expansión de
pasos de validación para ese número de nombres de columna (por ejemplo,
<code>vars(col_a, col_b)</code> dará lugar a la entrada de dos pasos de validación).
Aparte de los nombres de las columnas en comillas y en <code><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars()</a></code>,
<strong>tidyselect</strong> funciones auxiliares están disponibles para especificando
columnas. Ellos son: <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with()</a></code>, <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with()</a></code>, <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains()</a></code>,
<code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">matches()</a></code>, y <code><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="actions">Actions<a class="anchor" aria-label="anchor" href="#actions"></a></h2>
    

<p>A menudo, querremos especificar <code>actions</code> para la validación. Este argumento,
presente en cada función de validación, toma un objeto de lista especialmente
diseñado que se produce mejor con la función <code><a href="action_levels.html">action_levels()</a></code>. Lee esa
función documentación para la verdad sobre cómo crear reacciones por encima
del umbral niveles de falla en la validación. La esencia básica es que
querrás al menos un nivel de umbral único (especificado como la fracción de
unidades de prueba falló, o un valor absoluto), a menudo usando el argumento
<code>warn_at</code>. Utilizando <code>action_levels(warn_at = 1)</code> o <code>action_levels(stop_at = 1)</code> son buenas opciones dependiendo de la situación (el primero produce una
advertencia, el otro <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code>).</p>
    </div>
    <div class="section level2">
    <h2 id="briefs">Briefs<a class="anchor" aria-label="anchor" href="#briefs"></a></h2>
    

<p>¿Quiere describir este paso de validación con algún detalle? Tenga en cuenta
que esto sólo es útil si <code>x</code> es un objeto <em>agent</em>. Si ese es el caso, use un
texto <code>brief</code> que se ajuste a la situación. No se preocupe si no quiere
hacerlo. Un <em>autobrief</em> se activa cuando <code>brief = NULL</code> y el texto luego se
generará automáticamente.</p>
    </div>
    <div class="section level2">
    <h2 id="yaml">YAML<a class="anchor" aria-label="anchor" href="#yaml"></a></h2>
    

<p>Se puede escribir un agente <strong>pointblank</strong> en YAML con <code><a href="yaml_write.html">yaml_write()</a></code> y el
YAML resultante se puede usar para regenerar un agente (con
<code><a href="yaml_read_agent.html">yaml_read_agent()</a></code>) o interrogar la tabla de destino (a través de
<code><a href="yaml_agent_interrogate.html">yaml_agent_interrogate()</a></code>). Cuando <code>col_exists()</code> se representa en YAML
(bajo la clave de nivel superior <code>steps</code> como un miembro de la lista), la
sintaxis sigue de cerca la firma de la función de validación. A continuación
se muestra un ejemplo de cómo una llamada compleja de <code>col_exists()</code> como
paso de validación se expresa en código R y en la representación YAML
correspondiente.</p><div class="sourceCode"><pre><code># Código R
agent %&gt;% 
  col_exists(
    vars(a),
    actions = action_levels(warn_at = 0.1, stop_at = 0.2),
    label = "El paso `col_exists()`.",
    active = FALSE
  )

# Representación YAML
steps:
- col_exists:
    columns: vars(a)
    actions:
      warn_fraction: 0.1
      stop_fraction: 0.2
    label: El paso `col_exists()`.
    active: false
</code></pre></div>

<p>En la práctica, ambos serán a menudo más cortos, ya que solo el argumento de
las <code>columns</code> requiere un valor. Los argumentos con valores predeterminados
no se escribirán en YAML cuando se use <code><a href="yaml_write.html">yaml_write()</a></code> (aunque es aceptable
incluirlos con sus valores predeterminados al generar el YAML por otros
medios). También es posible obtener una vista previa de la transformación de
un agente a YAML sin escribir en el disco usando la función
<code><a href="yaml_agent_string.html">yaml_agent_string()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>
    

<p>2-29</p>
    </div>
    <div class="section level2">
    <h2 id="ver-tambi-n">Ver también<a class="anchor" aria-label="anchor" href="#ver-tambi-n"></a></h2>
    <div class="dont-index"><p>Other validation functions: 
<code><a href="col_is_character.html">col_is_character</a>()</code>,
<code><a href="col_is_date.html">col_is_date</a>()</code>,
<code><a href="col_is_factor.html">col_is_factor</a>()</code>,
<code><a href="col_is_integer.html">col_is_integer</a>()</code>,
<code><a href="col_is_logical.html">col_is_logical</a>()</code>,
<code><a href="col_is_numeric.html">col_is_numeric</a>()</code>,
<code><a href="col_is_posix.html">col_is_posix</a>()</code>,
<code><a href="col_schema_match.html">col_schema_match</a>()</code>,
<code><a href="col_vals_between.html">col_vals_between</a>()</code>,
<code><a href="col_vals_decreasing.html">col_vals_decreasing</a>()</code>,
<code><a href="col_vals_equal.html">col_vals_equal</a>()</code>,
<code><a href="col_vals_expr.html">col_vals_expr</a>()</code>,
<code><a href="col_vals_gte.html">col_vals_gte</a>()</code>,
<code><a href="col_vals_gt.html">col_vals_gt</a>()</code>,
<code><a href="col_vals_in_set.html">col_vals_in_set</a>()</code>,
<code><a href="col_vals_increasing.html">col_vals_increasing</a>()</code>,
<code><a href="col_vals_lte.html">col_vals_lte</a>()</code>,
<code><a href="col_vals_lt.html">col_vals_lt</a>()</code>,
<code><a href="col_vals_make_set.html">col_vals_make_set</a>()</code>,
<code><a href="col_vals_make_subset.html">col_vals_make_subset</a>()</code>,
<code><a href="col_vals_not_between.html">col_vals_not_between</a>()</code>,
<code><a href="col_vals_not_equal.html">col_vals_not_equal</a>()</code>,
<code><a href="col_vals_not_in_set.html">col_vals_not_in_set</a>()</code>,
<code><a href="col_vals_not_null.html">col_vals_not_null</a>()</code>,
<code><a href="col_vals_null.html">col_vals_null</a>()</code>,
<code><a href="col_vals_regex.html">col_vals_regex</a>()</code>,
<code><a href="col_vals_within_spec.html">col_vals_within_spec</a>()</code>,
<code><a href="conjointly.html">conjointly</a>()</code>,
<code><a href="row_count_match.html">row_count_match</a>()</code>,
<code><a href="rows_complete.html">rows_complete</a>()</code>,
<code><a href="rows_distinct.html">rows_distinct</a>()</code>,
<code><a href="serially.html">serially</a>()</code>,
<code><a href="specially.html">specially</a>()</code>,
<code><a href="tbl_match.html">tbl_match</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Ejemplos<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Para todos los ejemplos aquí,</span></span>
<span class="r-in"><span class="co"># usaremos una tabla simple con</span></span>
<span class="r-in"><span class="co"># dos columnas: `a` y` b`</span></span>
<span class="r-in"><span class="va">tbl</span> <span class="op">&lt;-</span></span>
<span class="r-in">  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span class="r-in">    a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">6</span>, <span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">7</span><span class="op">)</span>,</span>
<span class="r-in">    b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># A: Usando un `agent` con funciones de</span></span>
<span class="r-in"><span class="co">#    validación y luego `interrogate()`</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Valide que las columnas `a` y` b`</span></span>
<span class="r-in"><span class="co"># existan en la tabla `tbl`; esto hace</span></span>
<span class="r-in"><span class="co"># dos pasos de validación distintos ya</span></span>
<span class="r-in"><span class="co"># que se proporcionaron dos columnas</span></span>
<span class="r-in"><span class="co"># a `vars()`</span></span>
<span class="r-in"><span class="va">agent</span> <span class="op">&lt;-</span></span>
<span class="r-in">  <span class="fu"><a href="create_agent.html">create_agent</a></span><span class="op">(</span><span class="va">tbl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">col_exists</span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="interrogate.html">interrogate</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Determine si esta validación no tuvo</span></span>
<span class="r-in"><span class="co"># unidades de prueba defectuosas (1)</span></span>
<span class="r-in"><span class="fu"><a href="all_passed.html">all_passed</a></span><span class="op">(</span><span class="va">agent</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Llamar a `agent` en la consola imprime</span></span>
<span class="r-in"><span class="co"># el informe del agente; pero podemos</span></span>
<span class="r-in"><span class="co"># obtener un objeto `gt_tbl` directamente</span></span>
<span class="r-in"><span class="co"># con `get_agent_report(agent)`</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># B: Usando la función de validación</span></span>
<span class="r-in"><span class="co">#    directamente en los datos</span></span>
<span class="r-in"><span class="co">#    (sin `agent`)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Esta forma de utilizar las funciones</span></span>
<span class="r-in"><span class="co"># de validación actúa como un filtro de</span></span>
<span class="r-in"><span class="co"># datos: los datos se pasan a través,</span></span>
<span class="r-in"><span class="co"># pero deben `stop()` si hay una sola</span></span>
<span class="r-in"><span class="co"># unidad de prueba que falla; el</span></span>
<span class="r-in"><span class="co"># comportamiento de los efectos</span></span>
<span class="r-in"><span class="co"># secundarios se puede personalizar con</span></span>
<span class="r-in"><span class="co"># la opción `actions`</span></span>
<span class="r-in"><span class="va">tbl</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">col_exists</span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       a     b</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     5     7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     7     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     6     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     5     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>     8     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>     7     3</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># C: Usando la función de expectativa</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Con el formulario `expect_*()`,</span></span>
<span class="r-in"><span class="co"># necesitamos ser más exactos y</span></span>
<span class="r-in"><span class="co"># proporcionar una columna a la vez;</span></span>
<span class="r-in"><span class="co"># esto se usa principalmente en</span></span>
<span class="r-in"><span class="co"># pruebas `testthat`</span></span>
<span class="r-in"><span class="fu">expect_col_exists</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">expect_col_exists</span><span class="op">(</span><span class="va">tbl</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">b</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># D: Usando la función de prueba</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Con el formulario `test_*()`,</span></span>
<span class="r-in"><span class="co"># deberíamos obtener un único valor</span></span>
<span class="r-in"><span class="co"># lógico que se nos devuelva (incluso</span></span>
<span class="r-in"><span class="co"># si hay varias columnas probadas,</span></span>
<span class="r-in"><span class="co"># como es el caso a continuación)</span></span>
<span class="r-in"><span class="va">tbl</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">test_col_exists</span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">a</span>, <span class="va">b</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>En esta página</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Desarrollado por Richard Iannone, Mauricio Vargas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Sitio creado con <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>

