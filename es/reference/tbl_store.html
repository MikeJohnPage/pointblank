<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="es"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Puede ser útil configurar todas las fuentes de datos que necesites y sólo
extraerlas cuando sea necesario. Esta configuración por adelantado con
tbl_store() nos permite definir los métodos para obtener datos tabulares de
fuentes mixtas (por ejemplo, tablas de bases de datos, tablas generadas a
partir de archivos planos, etc.) y proporcionar nombres para estos
procedimientos de preparación de datos. Entonces tenemos una forma
conveniente de acceder a las tablas materializadas con tbl_get(), o, a las
fórmulas de preparación de tablas con tbl_source(). Las fórmulas table-prep
pueden ser tan simples como obtener una tabla de una ubicación, o, puede
involucrar tanta mutación como sea necesaria (imagine obtener varias
variaciones mutadas de la misma tabla fuente, generar una tabla desde
múltiples fuentes, o pre-filtrar una tabla de la base de datos de acuerdo al
tiempo del sistema). Otro aspecto agradable de organizar las fórmulas de
preparación de tablas en un solo objeto es suministrarlo al argumento
read_fn de create_agent() o create_informant() mediante la notación $
(por ejemplo, create_agent(read_fn = &amp;lt;tbl_store&amp;gt;$&amp;lt;nombre&amp;gt;)) o con
tbl_source() (por ejemplo, create_agent(read_fn = ~ tbl_source("&amp;lt;nombre&amp;gt;", &amp;lt;tbl_store&amp;gt;))).'><title>Definir un almacén de tablas con fórmulas de preparación de tablas: un "table
store" — tbl_store • pointblank</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Definir un almacén de tablas con fórmulas de preparación de tablas: un " table store tbl_store><meta property="og:description" content='Puede ser útil configurar todas las fuentes de datos que necesites y sólo
extraerlas cuando sea necesario. Esta configuración por adelantado con
tbl_store() nos permite definir los métodos para obtener datos tabulares de
fuentes mixtas (por ejemplo, tablas de bases de datos, tablas generadas a
partir de archivos planos, etc.) y proporcionar nombres para estos
procedimientos de preparación de datos. Entonces tenemos una forma
conveniente de acceder a las tablas materializadas con tbl_get(), o, a las
fórmulas de preparación de tablas con tbl_source(). Las fórmulas table-prep
pueden ser tan simples como obtener una tabla de una ubicación, o, puede
involucrar tanta mutación como sea necesaria (imagine obtener varias
variaciones mutadas de la misma tabla fuente, generar una tabla desde
múltiples fuentes, o pre-filtrar una tabla de la base de datos de acuerdo al
tiempo del sistema). Otro aspecto agradable de organizar las fórmulas de
preparación de tablas en un solo objeto es suministrarlo al argumento
read_fn de create_agent() o create_informant() mediante la notación $
(por ejemplo, create_agent(read_fn = &amp;lt;tbl_store&amp;gt;$&amp;lt;nombre&amp;gt;)) o con
tbl_source() (por ejemplo, create_agent(read_fn = ~ tbl_source("&amp;lt;nombre&amp;gt;", &amp;lt;tbl_store&amp;gt;))).'><meta property="og:image" content="https://rich-iannone.github.io/pointblank/es/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Ir al contenido</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pointblank</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Cambiar la navegación">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Flujos de trabajo de validación</h6>
    <a class="dropdown-item" href="../articles/validation_workflows.html">Overview</a>
    <a class="dropdown-item" href="../articles/VALID-I.html">VALID-I: Informes sobre la calidad de los datos</a>
    <a class="dropdown-item" href="../articles/VALID-II.html">VALID-II: Validación de datos en los pipelines</a>
    <a class="dropdown-item" href="../articles/VALID-III.html">VALID-III: Expectativas en las pruebas unitarias</a>
    <a class="dropdown-item" href="../articles/VALID-IV.html">VALID-IV: Pruebas de datos para condicionales</a>
    <a class="dropdown-item" href="../articles/VALID-V.html">VALID-V: Table Scan</a>
    <a class="dropdown-item" href="../articles/VALID-VI.html">VALID-VI: Validación de documentos R Markdown</a>
    <h6 class="dropdown-header" data-toc-skip>Gestión de la información</h6>
    <a class="dropdown-item" href="../articles/INFO-1.html">Introducción a la gestión de la información</a>
    <a class="dropdown-item" href="../articles/INFO-2.html">Temas avanzados de gestión de la información</a>
    <a class="external-link dropdown-item" href="https://rich-iannone.github.io/pointblank">In English</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Cambiar la navegación" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Buscar" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rich-iannone/pointblank/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Definir un almacén de tablas con fórmulas de preparación de tablas: un "table
store"</h1>
      <small class="dont-index">Código: <a href="https://github.com/rich-iannone/pointblank/blob/HEAD/R/tbl_store.R" class="external-link"><code>R/tbl_store.R</code></a></small>
      <div class="d-none name"><code>tbl_store.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Puede ser útil configurar todas las fuentes de datos que necesites y sólo
extraerlas cuando sea necesario. Esta configuración por adelantado con
<code>tbl_store()</code> nos permite definir los métodos para obtener datos tabulares de
fuentes mixtas (por ejemplo, tablas de bases de datos, tablas generadas a
partir de archivos planos, etc.) y proporcionar nombres para estos
procedimientos de preparación de datos. Entonces tenemos una forma
conveniente de acceder a las tablas materializadas con <code><a href="tbl_get.html">tbl_get()</a></code>, o, a las
fórmulas de preparación de tablas con <code><a href="tbl_source.html">tbl_source()</a></code>. Las fórmulas table-prep
pueden ser tan simples como obtener una tabla de una ubicación, o, puede
involucrar tanta mutación como sea necesaria (imagine obtener varias
variaciones mutadas de la misma tabla fuente, generar una tabla desde
múltiples fuentes, o pre-filtrar una tabla de la base de datos de acuerdo al
tiempo del sistema). Otro aspecto agradable de organizar las fórmulas de
preparación de tablas en un solo objeto es suministrarlo al argumento
<code>read_fn</code> de <code><a href="create_agent.html">create_agent()</a></code> o <code><a href="create_informant.html">create_informant()</a></code> mediante la notación <code>$</code>
(por ejemplo, <code>create_agent(read_fn = &lt;tbl_store&gt;$&lt;nombre&gt;)</code>) o con
<code><a href="tbl_source.html">tbl_source()</a></code> (por ejemplo, <code>create_agent(read_fn = ~ tbl_source("&lt;nombre&gt;", &lt;tbl_store&gt;))</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Uso<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">tbl_store</span><span class="op">(</span><span class="va">...</span>, .list <span class="op">=</span> <span class="fu">list2</span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="argumentos">Argumentos<a class="anchor" aria-label="anchor" href="#argumentos"></a></h2>
    <dl><dt>...</dt>
<dd><p>Expresiones que contienen fórmulas de preparación de tablas y
nombres de tablas para la recuperación de datos. Deben utilizarse fórmulas
de dos lados (por ejemplo, <code>&lt;LHS&gt; ~ &lt;RHS&gt;</code>), donde el lado izquierdo es un
nombre dado y el derecho es la parte que se utiliza para obtener la tabla.</p></dd>
<dt>.list</dt>
<dd><p>Permite el uso de una lista como alternativa de entrada a <code>...</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="valor">Valor<a class="anchor" aria-label="anchor" href="#valor"></a></h2>
    <p>Un objeto <code>tbl_store</code> que contiene fórmulas de preparación de tablas.</p>
    </div>
    <div class="section level2">
    <h2 id="yaml">YAML<a class="anchor" aria-label="anchor" href="#yaml"></a></h2>
    

<p>Un <strong>pointblank</strong> <code>tbl_store</code> se puede escribir en YAML con <code><a href="yaml_write.html">yaml_write()</a></code> y
el YAML resultante se puede utilizar de varias maneras. El escenario ideal es
tener agentes e informantes pointblank también en forma YAML. De esta manera
el agente y el informante pueden referirse a la tabla de almacenamiento YAML
(a través de <code><a href="tbl_source.html">tbl_source()</a></code>), y, el procesamiento de ambos agentes e
informantes puede realizarse con <code><a href="yaml_agent_interrogate.html">yaml_agent_interrogate()</a></code> y
<code><a href="yaml_informant_incorporate.html">yaml_informant_incorporate()</a></code>. Con el siguiente código de R, se genera un
almacén de tablas con dos fórmulas de preparación de tablas y se escribe en
YAML (si no se da un nombre de archivo, el YAML se escribe en
<code>"tbl_store.yml"</code>).</p><div class="sourceCode"><pre><code><span class="co"># Código R para generar el archivo "tbl_store.yml"</span>
<span class="fu"><a href="../reference/tbl_store.html">tbl_store</a></span><span class="op">(</span>
  <span class="va">tbl_duckdb</span> <span class="op">~</span> <span class="fu"><a href="../reference/db_tbl.html">db_tbl</a></span><span class="op">(</span><span class="va">small_table</span>, dbname <span class="op">=</span> <span class="st">":memory:"</span>, dbtype <span class="op">=</span> <span class="st">"duckdb"</span><span class="op">)</span>,
  <span class="va">sml_table_high</span> <span class="op">~</span> <span class="va">small_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">f</span> <span class="op">==</span> <span class="st">"high"</span><span class="op">)</span>
<span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/yaml_write.html">yaml_write</a></span><span class="op">(</span><span class="op">)</span>

<span class="co"># Representación YAML ("tbl_store.yml")</span>
<span class="va">tbls</span><span class="op">:</span>
  <span class="va">tbl_duckdb</span><span class="op">:</span> <span class="op">~</span> <span class="fu"><a href="../reference/db_tbl.html">db_tbl</a></span><span class="op">(</span><span class="va">small_table</span>, dbname <span class="op">=</span> <span class="st">":memory:"</span>, dbtype <span class="op">=</span> <span class="st">"duckdb"</span><span class="op">)</span>
  <span class="va">sml_table_high</span><span class="op">:</span> <span class="op">~</span> <span class="va">small_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">f</span> <span class="op">==</span> <span class="st">"high"</span><span class="op">)</span></code></pre></div>

<p>Esto es útil cuando se quiere obtener tiradas frescas de datos preparados de
una fuente materializada en una sesión de R (con la función <code><a href="tbl_get.html">tbl_get()</a></code>. Por
ejemplo, la tabla <code>sml_table_high</code> puede obtenerse utilizando
<code>tbl_get("sml_table_high", "tbl_store.yml")</code>. Para conseguir que un agente
compruebe estos datos preparados periódicamente, será útil el siguiente
ejemplo con <code><a href="tbl_source.html">tbl_source()</a></code>:</p><div class="sourceCode"><pre><code># Generar un objeto agente que compruebe
# `sml_table_high`, escribirlo en YAML
create_agent(
  read_fn = ~ tbl_source("sml_table_high", "tbl_store.yml"),
  label = "An example that uses a table store.",
  actions = action_levels(warn_at = 0.10)
) %&gt;% 
  col_exists(vars(date, date_time)) %&gt;%
  write_yaml()
  
# Representación YAML ("agent-sml_table_high.yml")
read_fn: ~ tbl_source("sml_table_high", "tbl_store.yml")
tbl_name: sml_table_high
label: An example that uses a table store.
actions:
  warn_fraction: 0.1
locale: en
steps:
  - col_exists:
    columns: vars(date, date_time)
</code></pre></div>

<p>Ahora, siempre que la tabla <code>sml_table_high</code> necesite ser validada, se puede
hacer con <code><a href="yaml_agent_interrogate.html">yaml_agent_interrogate()</a></code> (por ejemplo,
<code>yaml_agent_interrogate("agent-sml_table_high.yml")</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>
    

<p>1-8</p>
    </div>
    <div class="section level2">
    <h2 id="ver-tambi-n">Ver también<a class="anchor" aria-label="anchor" href="#ver-tambi-n"></a></h2>
    <div class="dont-index"><p>Other Planning and Prep: 
<code><a href="action_levels.html">action_levels</a>()</code>,
<code><a href="create_agent.html">create_agent</a>()</code>,
<code><a href="create_informant.html">create_informant</a>()</code>,
<code><a href="db_tbl.html">db_tbl</a>()</code>,
<code><a href="draft_validation.html">draft_validation</a>()</code>,
<code><a href="file_tbl.html">file_tbl</a>()</code>,
<code><a href="scan_data.html">scan_data</a>()</code>,
<code><a href="tbl_get.html">tbl_get</a>()</code>,
<code><a href="tbl_source.html">tbl_source</a>()</code>,
<code><a href="validate_rmd.html">validate_rmd</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Ejemplos<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Definir un objeto `tbl_store` añadiendo</span></span>
<span class="r-in"><span class="co"># fórmulas de preparación de tablas</span></span>
<span class="r-in"><span class="co"># dentro de la `tbl_store()` llamada</span></span>
<span class="r-in"><span class="va">tbls</span> <span class="op">&lt;-</span> </span>
<span class="r-in">  <span class="fu">tbl_store</span><span class="op">(</span></span>
<span class="r-in">    <span class="va">small_table_duck</span> <span class="op">~</span> <span class="fu"><a href="db_tbl.html">db_tbl</a></span><span class="op">(</span></span>
<span class="r-in">      table <span class="op">=</span> <span class="va">small_table</span>,</span>
<span class="r-in">      dbname <span class="op">=</span> <span class="st">":memory:"</span>,</span>
<span class="r-in">      dbtype <span class="op">=</span> <span class="st">"duckdb"</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    <span class="op">~</span> <span class="fu"><a href="db_tbl.html">db_tbl</a></span><span class="op">(</span></span>
<span class="r-in">      table <span class="op">=</span> <span class="st">"rna"</span>,</span>
<span class="r-in">      dbname <span class="op">=</span> <span class="st">"pfmegrnargs"</span>,</span>
<span class="r-in">      dbtype <span class="op">=</span> <span class="st">"postgres"</span>,</span>
<span class="r-in">      host <span class="op">=</span> <span class="st">"hh-pgsql-public.ebi.ac.uk"</span>,</span>
<span class="r-in">      port <span class="op">=</span> <span class="fl">5432</span>,</span>
<span class="r-in">      user <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="st">"reader"</span><span class="op">)</span>,</span>
<span class="r-in">      password <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="st">"NWDMCE5xdipIjRrp"</span><span class="op">)</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    <span class="va">all_revenue</span> <span class="op">~</span> <span class="fu"><a href="db_tbl.html">db_tbl</a></span><span class="op">(</span></span>
<span class="r-in">      table <span class="op">=</span> <span class="fu"><a href="file_tbl.html">file_tbl</a></span><span class="op">(</span></span>
<span class="r-in">        file <span class="op">=</span> <span class="fu"><a href="from_github.html">from_github</a></span><span class="op">(</span></span>
<span class="r-in">          file <span class="op">=</span> <span class="st">"all_revenue_large.rds"</span>,</span>
<span class="r-in">          repo <span class="op">=</span> <span class="st">"rich-iannone/intendo"</span>,</span>
<span class="r-in">          subdir <span class="op">=</span> <span class="st">"data-large"</span></span>
<span class="r-in">        <span class="op">)</span></span>
<span class="r-in">      <span class="op">)</span>,</span>
<span class="r-in">      dbname <span class="op">=</span> <span class="st">":memory:"</span>,</span>
<span class="r-in">      dbtype <span class="op">=</span> <span class="st">"duckdb"</span></span>
<span class="r-in">    <span class="op">)</span>,</span>
<span class="r-in">    <span class="va">sml_table</span> <span class="op">~</span> <span class="fu">pointblank</span><span class="fu">::</span><span class="va"><a href="small_table.html">small_table</a></span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Una vez que este objeto está disponible,</span></span>
<span class="r-in"><span class="co"># se puede comprobar que la tabla de</span></span>
<span class="r-in"><span class="co"># interés se produce a su especificación</span></span>
<span class="r-in"><span class="co"># con la función `tbl_get()`.</span></span>
<span class="r-in"><span class="fu"><a href="tbl_get.html">tbl_get</a></span><span class="op">(</span></span>
<span class="r-in">  tbl <span class="op">=</span> <span class="st">"small_table_duck"</span>,</span>
<span class="r-in">  store <span class="op">=</span> <span class="va">tbls</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Otra forma más sencilla de obtener la</span></span>
<span class="r-in"><span class="co"># misma tabla materializada es utilizando</span></span>
<span class="r-in"><span class="co"># `$` para obtener la entrada de</span></span>
<span class="r-in"><span class="co"># elección para `tbl_get()`.</span></span>
<span class="r-in"><span class="va">tbls</span><span class="op">$</span><span class="va">small_table_duck</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="tbl_get.html">tbl_get</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># La creación de un agente es fácil</span></span>
<span class="r-in"><span class="co"># cuando todas las fórmulas de</span></span>
<span class="r-in"><span class="co"># preparación de tablas están</span></span>
<span class="r-in"><span class="co"># encapsuladas en un objeto `tbl_store`;</span></span>
<span class="r-in"><span class="co"># utilice la notación `$` para pasar el</span></span>
<span class="r-in"><span class="co"># procedimiento apropiado para leer una</span></span>
<span class="r-in"><span class="co"># tabla al argumento `read_fn`</span></span>
<span class="r-in"><span class="va">agent_1</span> <span class="op">&lt;-</span></span>
<span class="r-in">  <span class="fu"><a href="create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span class="r-in">    read_fn <span class="op">=</span> <span class="va">tbls</span><span class="op">$</span><span class="va">small_table_duck</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in">  </span>
<span class="r-in"><span class="co"># Existen otras formas de utilizar el</span></span>
<span class="r-in"><span class="co"># almacén de tablas para asignar una</span></span>
<span class="r-in"><span class="co"># tabla de destino a un agente, como</span></span>
<span class="r-in"><span class="co"># el uso de la función `tbl_source()`</span></span>
<span class="r-in"><span class="va">agent_2</span> <span class="op">&lt;-</span></span>
<span class="r-in">  <span class="fu"><a href="create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span class="r-in">    read_fn <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="tbl_source.html">tbl_source</a></span><span class="op">(</span></span>
<span class="r-in">      tbl <span class="op">=</span> <span class="st">"small_table_duck"</span>,</span>
<span class="r-in">      store <span class="op">=</span> <span class="va">tbls</span></span>
<span class="r-in">      <span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># El almacén de tablas puede ser</span></span>
<span class="r-in"><span class="co"># trasladado a YAML con `yaml_write`</span></span>
<span class="r-in"><span class="co"># y la llamada `tbl_source()` podría</span></span>
<span class="r-in"><span class="co"># entonces referirse a ese almacén</span></span>
<span class="r-in"><span class="co"># de tablas en disco; hagamos esa</span></span>
<span class="r-in"><span class="co"># conversión a YAML</span></span>
<span class="r-in"><span class="fu"><a href="yaml_write.html">yaml_write</a></span><span class="op">(</span><span class="va">tbls</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Lo anterior escribe el archivo</span></span>
<span class="r-in"><span class="co"># `tbl_store.yml` (al no</span></span>
<span class="r-in"><span class="co"># proporcionar un `filename` se</span></span>
<span class="r-in"><span class="co"># elige este nombre de archivo por</span></span>
<span class="r-in"><span class="co"># defecto); a continuación, modifica</span></span>
<span class="r-in"><span class="co"># el `tbl_source()` para que `store`</span></span>
<span class="r-in"><span class="co"># haga referencia al archivo YAML </span></span>
<span class="r-in"><span class="va">agent_3</span> <span class="op">&lt;-</span></span>
<span class="r-in">  <span class="fu"><a href="create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span class="r-in">    read_fn <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="tbl_source.html">tbl_source</a></span><span class="op">(</span></span>
<span class="r-in">      tbl <span class="op">=</span> <span class="st">"small_table_duck"</span>,</span>
<span class="r-in">      store <span class="op">=</span> <span class="st">"tbl_store.yml"</span></span>
<span class="r-in">    <span class="op">)</span></span>
<span class="r-in">  <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>En esta página</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Desarrollado por Richard Iannone, Mauricio Vargas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Sitio creado con <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>

